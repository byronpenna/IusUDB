@using IUSLibs.FrontUI.Entidades;
@section estilosPersonalizados{
    <!-- propios -->
    <link rel="stylesheet" href="~/Content/themes/iusback_theme/views/GestionInstituciones/SetTel/style.css" />
    <link rel="stylesheet" href="~/Content/themes/iusback_theme/views/GestionInstituciones/SetTel/media.css" />
}
@section scriptsPersonalizados{
    <!-- propios -->
    <script src="~/Scripts/Views/GestionInstituciones/SetTel/script.js"></script>
    <script src="~/Scripts/Views/GestionInstituciones/SetTel/functions.js"></script>
}
@{
    Institucion                 institucion = (Institucion)ViewBag.institucion;
    List<TelefonoInstitucion>   telefonos   = (List<TelefonoInstitucion>)ViewBag.telefonos;
    
    string src = Url.Content("~/Content/themes/iusback_theme/img/general/image.png");
}
<div class="row marginNull divInstitucionPrev">
    @if (institucion._logo != null)
    {
        src = "data:image/png;base64,"+Convert.ToBase64String(institucion._logo, 0, institucion._logo.Length);
    }
    
    <img src="@src" />
    <h2 class="titleInstitucion">@institucion._nombre</h2>
</div>

<div class="row marginNull">
    <table class="table tbTelefonos">
        <thead>
            <tr>
                <th></th>
                <th>Telefono</th>
                <th>Etiqueta</th>
                <th>Acciones</th>
            </tr>
            <tr>
                <th>
                    <input type="hidden" name="txtHdIdInstitucion" value="@institucion._idInstitucion"/>
                </th>
                <th>
                    <input type="tel" name="txtTelefono" class="form-control"/>
                </th>
                <th>
                    <input type="tel" name="txtEtiqueta" class="form-control" />
                </th>
                <th>
                    <button class="btn btnAgregarTel">Agregar</button>
                </th>
            </tr>
        </thead>
        <tbody>
            @if (telefonos != null && telefonos.Count > 0)
            {
                foreach (TelefonoInstitucion telefono in telefonos)
                {
                    <tr>
                        <td>
                            <input type="hidden" class="txtHdIdTel" name="txtHdIdTel" value="@telefono._idTelefono"/>
                        </td>
                        <td>@telefono._telefono</td>
                        <td>@telefono._textoTelefono</td>
                        <td>
                            <button class="btn">
                                Eliminar
                            </button>
                            <button class="btn">
                                Editar
                            </button>
                        </td>
                    </tr>    
                }
                
            }
        </tbody>
    </table>
</div>