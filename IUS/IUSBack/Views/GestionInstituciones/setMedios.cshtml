@using IUSLibs.FrontUI.Entidades;
@section estilosPersonalizados{
    <!-- propios -->
    <link rel="stylesheet" href="~/Content/themes/iusback_theme/views/GestionInstituciones/SetTel/style.css" />
    <link rel="stylesheet" href="~/Content/themes/iusback_theme/views/GestionInstituciones/SetTel/media.css" />
}
@section scriptsPersonalizados{
    <!-- propios -->
    <script src="~/Scripts/Views/GestionInstituciones/SetMedios/script.js"></script>
    <script src="~/Scripts/Views/GestionInstituciones/SetMedios/functions.js"></script>
}
@{
    Institucion institucion         = (Institucion)ViewBag.institucion;
    List<EnlaceInstitucion> enlaces = (List<EnlaceInstitucion>)ViewBag.enlaces;
    string src = Url.Content("~/Content/themes/iusback_theme/img/general/image.png");
}
<div class="row marginNull divInstitucionPrev">
    @if (institucion._logo != null)
    {
        src = "data:image/png;base64," + Convert.ToBase64String(institucion._logo, 0, institucion._logo.Length);
    }
    <img src="@src" />
    <h2 class="titleInstitucion">@institucion._nombre</h2>
</div>
<div class="row marginNull">
    <table class="table tbEnlaces">
        <thead>
            <tr>
                <th></th>
                <th>Enlace</th>
                <th>Texto enlace</th>
                <th>Acciones</th>
            </tr>
            <tr>
                <th>
                    <input type="hidden" name="txtHdIdInstitucion" value="@institucion._idInstitucion" />
                </th>
                <th>
                    <input class="form-control txtEnlace" name="txtEnlace" />
                </th>
                <th>
                    <input class="form-control txtTextoEnlace" name="txtTextoEnlace" />
                </th>
                <th>
                    <button class="btn btnAgregar">Agregar</button>
                </th>
            </tr>
        </thead>
        <tbody class="tbodyMedios">
            @if (enlaces != null && enlaces.Count > 0)
            {
                foreach (EnlaceInstitucion enlace in enlaces)
                {
                    <tr>
                        <td>
                            <input type="hidden" class="txtHdIdEnlace" name="txtHdIdEnlace" value="@enlace._idEnlace" />
                        </td>
                        <td>
                            <div class="editMode hidden">
                                <input class="form-control txtEnlace" name="txtEnlace" />
                            </div>
                            <div class="normalMode tdEnlace">@enlace._enlace</div>
                        
                        </td>
                        <td>
                            <div class="editMode hidden">
                                <input class="form-control txtTextoEnlaceEdit" name="txtTextoEnlaceEdit" />
                            </div>
                            <div class="normalMode tdNombreEnlace">@enlace._nombreEnlace</div>
                        </td>
                        <td>
                            <div class="editMode hidden">
                                <button class="btn btnActualizar">Actualizar</button>
                                <button class="btn btnCancelar">Cancelar</button>
                            </div>
                            <div class="normalMode">
                                <button class="btn btnEditar">
                                    Editar
                                </button>
                                <button class="btn btnEliminar">
                                    Eliminar
                                </button>
                            </div>
                            
                        </td>
                    </tr>        
                }
                
            }
        </tbody>
    </table>
</div>